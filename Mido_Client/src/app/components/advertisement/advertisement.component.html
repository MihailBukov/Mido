<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mido</title>
</head>
<body>
    <div class="advertisement-details">
        <h2>Advertisement Details</h2>
        <p><strong>ID:</strong> {{ ad.id }}</p>
        <p><strong>Title:</strong> {{ ad.title }}</p>
        <p><strong>Time of Creation:</strong> {{ ad.timeOfCreation }}</p>
        <p><strong>Description:</strong> {{ ad.description }}</p>
        <p><strong>Dog Name:</strong> {{ ad.dogName }}</p>
        <p><strong>Dog Age:</strong> {{ ad.dogAge }}</p>
        <p><strong>Dog Weight (kg):</strong> {{ ad.dogKg }}</p>
        <p><strong>Dog Breed:</strong> {{ ad.dogBreed }}</p>
        <p><strong>Dog Gender:</strong> {{ ad.dogGender }}</p>
        <p><strong>Dog Color:</strong> {{ ad.dogColor }}</p>
        <p><strong>Country:</strong> {{ ad.country }}</p>
        <p><strong>City:</strong> {{ ad.city }}</p>
        <p><strong>Created By:</strong> {{ ad.createdBy }}</p>
    </div>

    <div class="comments">
        <div *ngIf="comments.length === 0">No comments found.</div>
        <div *ngFor="let coment of comments" class="comment-card">
          <p><strong>Written By:</strong> {{ comment.writtenBy }}</p>
          <p>{{ comment.comment }}</p>
        </div>
    </div>

    <div class="buttons">
        <button id="leaveCommentBtn">Leave a Comment</button>
        <button (click)="viewProfile(ad.createdBy)" id="viewProfileBtn">View User's Profile</button>
        <button id="sendMessageBtn">Message User</button>
    </div>

    <div class="comment-form" id="form">
        <form [formGroup]="commentForm" (ngSubmit)="createComment()">
            <label for="comment">Comment:</label>
            <input type="text" id="comment" name="comment" required>
            <button type="submit">Submit</button>
        </form>
    </div>

    <div class="message-form" id="form">
        <form [formGroup]="messageForm" (ngSubmit)="messageUser(ad.createdBy)">
            <label for="comment">Message:</label>
            <input type="text" id="text" name="text" required>
            <button type="submit">Submit</button>
        </form>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
           const toggleCommentButton = document.getElementById('leaveCommentBtn');
           const commentForm = document.getElementById('commentForm');

           toggleCommentButton.addEventListener('click', function() {
               commentForm.classList.toggle('show'); 
               toggleCommentButton.textContent = commentForm.classList.contains('show') ? 'Hide Comment Form' : 'Leave a Comment';
           });

           const toggleMessageButton = document.getElementById('sendMessageBtn');
           const messageForm = document.getElementById('messageForm');

           toggleMessageButton.addEventListener('click', function() {
               messageForm.classList.toggle('show'); 
               toggleMessageButton.textContent = messageForm.classList.contains('show') ? 'Hide Message Form' : 'Message User';
           });
       });
   </script>
</body>
</html>
