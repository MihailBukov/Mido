<div class="register-container">
  <h2>Register</h2>
  <form [formGroup]="registerForm" (ngSubmit)="register()">
    <div class="input-group">
      <label for="username">Username</label>
      <input type="text" id="username" formControlName="username">
      <small class="small-error" *ngIf="registerForm.controls['username'].invalid && (registerForm.controls['username'].dirty || registerForm.controls['username'].touched)">
        <div *ngIf="registerForm.controls['username'].errors?.['required']">Username is required.</div>
      </small>
    </div>
    <div class="input-group">
      <label for="email">Email</label>
      <input type="email" id="email" formControlName="email">
      <small class="small-error" *ngIf="registerForm.controls['email'].invalid && (registerForm.controls['email'].dirty || registerForm.controls['email'].touched)">
        <div *ngIf="registerForm.controls['email'].errors?.['required']">Email is required.</div>
        <div *ngIf="registerForm.controls['email'].errors?.['email']">Email should be valid</div>
      </small>
    </div>
    <div class="input-group">
      <label for="password">Password</label>
      <input type="password" id="password" formControlName="password">
      <small class="small-error" *ngIf="registerForm.controls['password'].invalid && (registerForm.controls['password'].dirty || registerForm.controls['password'].touched)">
        <div *ngIf="registerForm.controls['password'].errors?.['required']">Password is required.</div>
      </small>
    </div>
    <div class="input-group">
      <label for="role">Role</label>
      <select id="role" formControlName="role">
        <option value="client">Client</option>
        <option value="pet-shelter">Pet Shelter</option>
      </select>
      <small class="small-error" *ngIf="registerForm.controls['role'].invalid && (registerForm.controls['role'].dirty || registerForm.controls['role'].touched)">
        <div *ngIf="registerForm.controls['role'].errors?.['required']">Role is required.</div>
      </small>
    </div>

    <div *ngIf="selectedRole === 'client'">
      <div class="input-group">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" formControlName="firstName">
        <small class="small-error" *ngIf="registerForm.controls['firstName'].invalid && (registerForm.controls['firstName'].dirty || registerForm.controls['firstName'].touched)">
          <div *ngIf="registerForm.controls['firstName'].errors?.['required']">First Name is required.</div>
        </small>
      </div>
      <div class="input-group">
        <label for="middleName">Middle Name</label>
        <input type="text" id="middleName" formControlName="middleName">
      </div>
      <div class="input-group">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" formControlName="lastName">
        <small class="small-error" *ngIf="registerForm.controls['lastName'].invalid && (registerForm.controls['lastName'].dirty || registerForm.controls['lastName'].touched)">
          <div *ngIf="registerForm.controls['lastName'].errors?.['required']">Last Name is required.</div>
        </small>
      </div>
      <div class="input-group">
        <label for="age">Age</label>
        <input type="number" id="age" formControlName="age">
        <small class="small-error" *ngIf="registerForm.controls['age'].invalid && (registerForm.controls['age'].dirty || registerForm.controls['age'].touched)">
          <div *ngIf="registerForm.controls['age'].errors?.['required']">Age is required.</div>
          <div *ngIf="registerForm.controls['age'].errors?.['min']">Age must be a positive number.</div>
        </small>
      </div>
    </div>

    <div *ngIf="selectedRole === 'pet-shelter'">
      <div class="input-group">
        <label for="name">Name</label>
        <input type="text" id="name" formControlName="name">
        <small class="small-error" *ngIf="registerForm.controls['name'].invalid && (registerForm.controls['name'].dirty || registerForm.controls['name'].touched)">
          <div *ngIf="registerForm.controls['name'].errors?.['required']">Name is required.</div>
        </small>
      </div>
      <div class="input-group">
        <label for="capacity">Capacity</label>
        <input type="number" id="capacity" formControlName="capacity">
        <small class="small-error" *ngIf="registerForm.controls['capacity'].invalid && (registerForm.controls['capacity'].dirty || registerForm.controls['capacity'].touched)">
          <div *ngIf="registerForm.controls['capacity'].errors?.['required']">Capacity is required.</div>
          <div *ngIf="registerForm.controls['capacity'].errors?.['min']">Capacity must be a positive number.</div>
        </small>
      </div>
      <div class="input-group">
        <label for="address">Address</label>
        <input type="text" id="address" formControlName="address">
        <small class="small-error" *ngIf="registerForm.controls['address'].invalid && (registerForm.controls['address'].dirty || registerForm.controls['address'].touched)">
          <div *ngIf="registerForm.controls['address'].errors?.['required']">Address is required.</div>
        </small>
      </div>
    </div>

    <div class="input-group">
      <label for="country">Country</label>
      <input type="text" id="country" formControlName="country">
      <small class="small-error" *ngIf="registerForm.controls['country'].invalid && (registerForm.controls['country'].dirty || registerForm.controls['country'].touched)">
        <div *ngIf="registerForm.controls['country'].errors?.['required']">Country is required.</div>
      </small>
    </div>
    <div class="input-group">
      <label for="city">City</label>
      <input type="text" id="city" formControlName="city">
      <small class="small-error" *ngIf="registerForm.controls['city'].invalid && (registerForm.controls['city'].dirty || registerForm.controls['city'].touched)">
        <div *ngIf="registerForm.controls['city'].errors?.['required']">City is required.</div>
      </small>
    </div>
    <div class="input-group">
      <label for="description">Description</label>
      <textarea id="description" formControlName="description"></textarea>
      <small class="small-error" *ngIf="registerForm.controls['description'].invalid && (registerForm.controls['description'].dirty || registerForm.controls['description'].touched)">
        <div *ngIf="registerForm.controls['description'].errors?.['required']">Description is required.</div>
      </small>
    </div>

    <button type="submit">Register</button>
    <div class="login">
      <a href="/login">Already have an account? Log in.</a>
    </div>
  </form>
</div>
